import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;
import org.testng.asserts.SoftAssert;

public class MyClass {
	
	WebDriver driver = new ChromeDriver();
//    private WebDriver driver;
    private SoftAssert softAssert;

    @BeforeMethod
    public void setUp() {
//        // Set the WebDriver executable path (Make sure you have ChromeDriver installed)
//        System.setProperty("webdriver.chrome.driver", "path/to/your/chromedriver.exe");
//        driver = new ChromeDriver();
//        driver.get("https://global.almosafer.com/ar");
//        softAssert = new SoftAssert();
    }

    @Test
    public void testAlmosaferWebsite() {
    	// Set the WebDriver executable path (Make sure you have ChromeDriver installed)
//        System.setProperty("webdriver.chrome.driver", "path/to/your/chromedriver.exe");
        driver = new ChromeDriver();
        driver.get("https://global.almosafer.com/ar");
        softAssert = new SoftAssert();
    	// Find and click the button with the class name "sc-jTzLTM"
        WebElement theButton = driver.findElement(By.className("sc-jTzLTM"));
        theButton.click();
        // 1. Check the language
        WebElement languageElement = driver.findElement(By.xpath("//div[@class='language-dropdown']"));
        String language = languageElement.getText();
        softAssert.assertEquals(language, "العربية", "Language is not as expected.");

        // 2. Check the currency
        WebElement currencyElement = driver.findElement(By.xpath("//div[@class='currency-dropdown']"));
        String currency = currencyElement.getText();
        softAssert.assertEquals(currency, "SAR", "Currency is not as expected.");

        // 3. Check the hotel tab is selected
        WebElement hotelTab = driver.findElement(By.xpath("//a[contains(@class, 'active') and contains(@href, '/hotels')]"));
        softAssert.assertTrue(hotelTab.isDisplayed(), "Hotel tab is not selected.");

        

        // Optional: Add additional validations or actions after clicking the button.

        softAssert.assertAll(); // This will report all assertion failures
    }

    @AfterMethod
    public void tearDown() {
        if (driver != null) {
            driver.quit();
        }
    }
}

